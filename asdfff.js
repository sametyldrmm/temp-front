const { Pool } = require('pg');

// Veritabanı bilgilerini girin
const pool = new Pool({
  user: 'bilal',
  host: '51.20.254.151',
  database: 'emindb',
  password: '123',
  port: 5432,
});

// JSON verileri burada
const data = [
    { "day": "2024-07-01", "a": 30, "b": 50, "c": 70, "d": 20, "e": 90, "f": 40 },
    { "day": "2024-07-03", "a": 45, "b": 60, "c": 85, "d": 35, "e": 95, "f": 50 },
    { "day": "2024-07-05", "a": 25, "b": 55, "c": 65, "d": 15, "e": 75, "f": 60 },
    { "day": "2024-07-08", "a": 35, "b": 45, "c": 55, "d": 10, "e": 80, "f": 70 },
    { "day": "2024-07-10", "a": 40, "b": 50, "c": 60, "d": 20, "e": 85, "f": 55 },
    { "day": "2024-07-12", "a": 50, "b": 70, "c": 80, "d": 30, "e": 65, "f": 45 },
    { "day": "2024-07-15", "a": 55, "b": 60, "c": 75, "d": 25, "e": 70, "f": 35 },
    { "day": "2024-07-17", "a": 65, "b": 80, "c": 85, "d": 40, "e": 90, "f": 50 },
    { "day": "2024-07-20", "a": 30, "b": 40, "c": 50, "d": 10, "e": 60, "f": 20 },
    { "day": "2024-07-22", "a": 45, "b": 55, "c": 65, "d": 15, "e": 85, "f": 30 },
    { "day": "2024-07-25", "a": 35, "b": 45, "c": 75, "d": 20, "e": 70, "f": 40 },
    { "day": "2024-07-28", "a": 40, "b": 60, "c": 80, "d": 30, "e": 65, "f": 55 },
    { "day": "2024-08-01", "a": 25, "b": 50, "c": 65, "d": 15, "e": 75, "f": 45 },
    { "day": "2024-08-04", "a": 30, "b": 55, "c": 70, "d": 20, "e": 80, "f": 60 },
    { "day": "2024-08-06", "a": 50, "b": 65, "c": 85, "d": 35, "e": 95, "f": 75 },
    { "day": "2024-08-08", "a": 55, "b": 70, "c": 90, "d": 40, "e": 85, "f": 80 },
    { "day": "2024-08-11", "a": 65, "b": 75, "c": 95, "d": 45, "e": 90, "f": 85 },
    { "day": "2024-08-14", "a": 60, "b": 80, "c": 85, "d": 50, "e": 95, "f": 60 },
    { "day": "2024-08-17", "a": 40, "b": 55, "c": 75, "d": 30, "e": 70, "f": 50 },
    { "day": "2024-08-20", "a": 45, "b": 60, "c": 80, "d": 35, "e": 85, "f": 40 },
    { "day": "2024-08-23", "a": 30, "b": 50, "c": 70, "d": 20, "e": 90, "f": 55 },
    { "day": "2024-08-26", "a": 55, "b": 70, "c": 85, "d": 40, "e": 75, "f": 65 },
    { "day": "2024-08-29", "a": 50, "b": 75, "c": 80, "d": 30, "e": 65, "f": 70 },
    { "day": "2024-09-02", "a": 60, "b": 80, "c": 90, "d": 45, "e": 95, "f": 75 },
    { "day": "2024-09-05", "a": 65, "b": 85, "c": 95, "d": 50, "e": 85, "f": 80 },
    { "day": "2024-09-08", "a": 45, "b": 65, "c": 85, "d": 35, "e": 90, "f": 60 },
    { "day": "2024-09-11", "a": 55, "b": 70, "c": 75, "d": 40, "e": 80, "f": 65 },
    { "day": "2024-09-14", "a": 35, "b": 55, "c": 65, "d": 25, "e": 70, "f": 45 },
    { "day": "2024-09-17", "a": 40, "b": 60, "c": 70, "d": 30, "e": 75, "f": 55 },
    { "day": "2024-09-20", "a": 50, "b": 75, "c": 80, "d": 45, "e": 85, "f": 70 },
    { "day": "2024-09-23", "a": 55, "b": 80, "c": 85, "d": 50, "e": 95, "f": 75 },
    { "day": "2024-09-26", "a": 65, "b": 90, "c": 95, "d": 60, "e": 90, "f": 85 },
    { "day": "2024-09-29", "a": 30, "b": 45, "c": 55, "d": 25, "e": 65, "f": 35 },
    { "day": "2024-10-02", "a": 45, "b": 65, "c": 75, "d": 35, "e": 85, "f": 55 },
    { "day": "2024-10-05", "a": 50, "b": 70, "c": 80, "d": 40, "e": 90, "f": 60 },
    { "day": "2024-10-08", "a": 60, "b": 80, "c": 90, "d": 50, "e": 95, "f": 70 },
    { "day": "2024-10-11", "a": 55, "b": 75, "c": 85, "d": 45, "e": 70, "f": 80 },
    { "day": "2024-10-14", "a": 65, "b": 85, "c": 95, "d": 55, "e": 85, "f": 75 },
    { "day": "2024-10-17", "a": 30, "b": 50, "c": 65, "d": 20, "e": 70, "f": 40 },
    { "day": "2024-10-20", "a": 45, "b": 60, "c": 70, "d": 35, "e": 80, "f": 50 },
    { "day": "2024-10-23", "a": 50, "b": 75, "c": 80, "d": 40, "e": 90, "f": 65 },
    { "day": "2024-10-26", "a": 55, "b": 80, "c": 85, "d": 45, "e": 95, "f": 70 },
    { "day": "2024-10-29", "a": 65, "b": 90, "c": 95, "d": 60, "e": 85, "f": 80 },
    { "day": "2024-11-02", "a": 30, "b": 55, "c": 65, "d": 20, "e": 75, "f": 50 },
    { "day": "2024-11-05", "a": 45, "b": 65, "c": 75, "d": 35, "e": 80, "f": 60 },
    { "day": "2024-11-08", "a": 55, "b": 75, "c": 85, "d": 40, "e": 95, "f": 70 },
    { "day": "2024-11-11", "a": 60, "b": 80, "c": 90, "d": 45, "e": 85, "f": 65 },
    { "day": "2024-11-14", "a": 65, "b": 90, "c": 95, "d": 55, "e": 95, "f": 85 },
    { "day": "2024-11-17", "a": 40, "b": 55, "c": 75, "d": 30, "e": 85, "f": 60 },
    { "day": "2024-11-20", "a": 55, "b": 65, "c": 85, "d": 45, "e": 80, "f": 75 },
    { "day": "2024-11-23", "a": 30, "b": 45, "c": 60, "d": 25, "e": 70, "f": 50 },
    { "day": "2024-11-26", "a": 45, "b": 60, "c": 75, "d": 40, "e": 85, "f": 65 },
    { "day": "2024-11-29", "a": 50, "b": 70, "c": 80, "d": 35, "e": 90, "f": 55 },
    { "day": "2024-12-02", "a": 60, "b": 85, "c": 90, "d": 50, "e": 95, "f": 80 }
    
];

// Veritabanına bağlan ve işlemleri yap
const insertData = async () => {
  const client = await pool.connect();

  try {
    // Her veri için direkt olarak INSERT işlemi
    for (const entry of data) {
      await client.query(
        `
        INSERT INTO sensor_data (day, a, b, c, d, e, f)
        VALUES ($1, $2, $3, $4, $5, $6, $7)
        `,
        [entry.day, entry.a, entry.b, entry.c, entry.d, entry.e, entry.f]
      );
    }

    console.log('Veriler başarıyla tabloya eklendi.');
  } catch (error) {
    console.error('Veri ekleme hatası:', error);
  } finally {
    client.release();
  }
};


// Veritabanına veri ekleme işlemini başlat
insertData().then(() => pool.end());
